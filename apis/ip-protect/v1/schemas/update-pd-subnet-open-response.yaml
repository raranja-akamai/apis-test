type: object
description: |-
  Policy domain configurations.
  
x-akamai:
  file-path: schemas/update-pd-subnet-open-response.yaml
additionalProperties: false
properties:
  configVersionId:
    type: integer
    description: |
      Unique identifier for the configuration version.
  createdBy:
    type: string
    description: |
      User who created the configuration version.
  createdTimestamp:
    type: string
    description: |
      ISO 8601 timestamp indicating the creation time of the configuration.
    format: date-time
  deployState:
    type: string
    description: |
      Current deployment state of the configuration version. The value `edited` indicates that changes have been made to policy domain, but haven't been deployed. `deploying` indicates that the configuration is in the midst of the deployment process, while `deployed` indicates that there are no outstanding changes that need deploying.
    enum:
    - deployed
    - deploying
    - edited
  ipsAllocated:
    type: integer
    description: |
      Number of virtual IP addresses assigned to the policy domain.
  ipsConfigured:
    type: integer
    description: |
      Number of virtual IP addresses configured for the policy domain.
  pdName:
    type: string
    description: |
      Unique name of the policy domain.
  pdSubnets:
    type: array
    description: |
      Subnets.
    items:
      type: object
      additionalProperties: false
      properties:
        legacyPdSubnet:
          type: boolean
          description: |
            Indicates whether Prolexic Proxy created the subnet.
        pdSubnet:
          type: string
          description: |
            IP address of the subnet.
        pdSubnetId:
          type: integer
          description: |
            Unique identifier of the subnet.
        vips:
          type: array
          description: |
            Virtual IP addresses.
          items:
            type: object
            additionalProperties: false
            properties:
              type:
                type: string
                description: |
                  The type of IP address or subnet service configured.
              akamaiFrontend:
                type: string
                description: |
                  The Akamai virtual IP address that's been mapped to a back-end server or subnet.
              customerBackend:
                type: string
                description: |
                  The customer's server IP address or subnet that's been mapped to a virtual IP address.
              legacyVip:
                type: boolean
                description: |
                  Indicates whether Prolexic Proxy created the subnet.
              ports:
                type: string
                description: |
                  Virtual IP address ports open to traffic directed to a customer's website.
              sourceIpProtocol:
                type: string
                description: |
                  Specifies the source IP for network packets received at a customer's back-end server or subnet. By default, packets are set to `NA`, identifying Akamai as the source IP. Other source IP options are `NAT46`, `CIP`, `PROXY_PROTOCOL_V1`, `PROXY_PROTOCOL_V2`, and `OPTION_28`. `NAT46` is only available if the virtual IP address has an IPv4 address and the back-end IP has an IPv6 address. The remaining options require the virtual IP address to be running on a TCP network.
                enum:
                - CIP
                - PROXY_PROTOCOL_V1
                - PROXY_PROTOCOL_V2
                - OPTION_28
                - NAT46
                - NA
              vipId:
                type: integer
                description: |
                  Unique identifier of the virtual IP address.
  updatedBy:
    type: string
    description: |
      User who most recent updated the configuration version.
    nullable: true
  updatedTimestamp:
    type: string
    description: |
      ISO 8061 timestamp indicating the time of the most recent update of the configuration version.
    format: date-time
