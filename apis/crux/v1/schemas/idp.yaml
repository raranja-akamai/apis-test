type: object
description: |-
  Identity provider (IDP) configuration settings.
  
x-akamai:
  file-path: schemas/idp.yaml
additionalProperties: false
required:
- name
- idp_type
properties:
  name:
    type: string
    description: |
      The name of the IDP configuration.
    minLength: 1
  description:
    type: string
    description: |
      A description of the IDP configuration.
    nullable: true
    minLength: 0
  app_count:
    type: integer
    description: |
      Count of applications associated with the IDP.
  attribute_map:
    type: object
    description: |
      Additional attributes to include with the `access_token` response.
    additionalProperties: false
    properties:
      eaa.demo:
        type: string
        description: |
          The user's EAA demo name.
      eaa.test:
        type: string
        description: |
          The user's EAA test name.
      user.countryCode:
        type: string
        description: |
          The user's country code.
        minLength: 1
      user.email:
        type: string
        description: |
          The user's email address.
      user.firstName:
        type: string
        description: |
          The user's first name.
        minLength: 1
      user.groups:
        type: string
        description: |
          The groups the user belongs to.
      user.lastName:
        type: string
        description: |
          The user's last name.
        minLength: 1
      user.netbios:
        type: string
        description: |
          The user's NetBIOS name.
        minLength: 0
      user.persistentId:
        type: string
        description: |
          The user persistent ID.
        minLength: 1
      user.phoneNumber:
        type: string
        description: |
          The user's phone number.
        minLength: 1
      user.samAccountName:
        type: string
        description: |
          The user's Security Account Manager (SAM) account name.
        minLength: 1
      user.userName:
        type: string
        description: |
          The username.
      user.userPrincipleName:
        type: string
        description: |
          The user's principle name.
        minLength: 1
  auth_request_signed:
    type: boolean
    description: |
      Whether the authentication request is signed.
  auth_response_encrypt:
    type: boolean
    description: |
      Enables authentication response encryption.
  background_image:
    type: string
    description: |
      The name of the background image.
    nullable: true
    minLength: 0
  background_image_file_name:
    type: string
    description: |
      The filename of the portal background image.
    nullable: true
    minLength: 0
  cert:
    type: string
    description: |
      Body of the certificate.
    nullable: true
  client_cert:
    type: string
    description: |
      The client certificate.
    nullable: true
  client_principle_name:
    type: string
    description: |
      The principle name expected by the server in order to authenticate a client request.
    minLength: 1
  company_id:
    type: string
    description: |
      The company ID.
    minLength: 1
  cookie_expiry:
    type: integer
    description: |
      The number of minutes the session cookie expires.
    minimum: 0
  created_at:
    type: string
    description: |
      ISO 8601 timestamp marking the IDP configuration's creation.
  default_language:
    type: string
    description: |
      The default language.
    minLength: 1
  directory_count:
    type: integer
    description: |
      The directory count.
  directory_list:
    type: array
    description: |
      Directory IDs for the IDP.
    items:
      type: string
  dns_added:
    type: boolean
    description: |
      Whether the authentication request includes the DNS information.
  domain_suffix:
    type: string
    description: |
      The domain suffix. For example, `.com`.
    minLength: 0
  domains:
    type: array
    description: |
      Domains for the IDP.
    items:
      type: string
      nullable: true
  enable_access_client:
    type: boolean
    description: |
      Enables the access client.
  enable_mfa:
    type: boolean
    description: |
      Enables multifactor authentication.
  favicon_image:
    type: string
    description: |
      The filename of the portal favicon image.
    nullable: true
    minLength: 0
  helpdesk_email:
    type: string
    description: |
      The email address for contacting helpdesk with issues.
  idp_deployed:
    type: boolean
    description: |
      Whether the IDP is deployed.
  idp_operational:
    type: integer
    description: |
      Whether the IDP is operational. Either `0` for no or `1` for yes.
    enum:
    - 0
    - 1
  idp_status:
    type: integer
    description: |
      The status of the IDP. Either `1` for `2` for `3` for `4` or `5` for deploy failed.
    enum:
    - 1
    - 2
    - 3
    - 4
    - 5
  idp_type:
    type: integer
    description: |
      The type of IDP. Select `1` for Default, `2` for EAA, `3` for SAML, `4` for Okta, `5` for PingOne, `6` for OneLogin, `7` for Google, `8` for OIDC, and `9` for Azure.
    default: 1
    enum:
    - 1
    - 2
    - 3
    - 4
    - 5
    - 6
    - 7
    - 8
    - 9
  iwa_keytab:
    type: array
    description: |
      A unique keytab for a service principle name (SPN) used for Integrated Windows Authentication (IWA).
    items:
      type: string
  lockout_interval:
    type: integer
    description: |
      The number of minutes to lock out the user, `15` by default.
    default: 15
    minimum: 0
  login_cname:
    type: string
    description: |
      The login cname URL.
    nullable: true
    minLength: 0
  login_dialin_server:
    type: string
    description: |
      The URL of the login dialin server.
    nullable: true
    minLength: 0
  login_domain:
    type: integer
    description: |
      The type of portal domain that end users access. Either `1` for custom login domain or `2` for WAPP login domain.
    nullable: true
    enum:
    - 1
    - 2
  login_host:
    type: string
    description: |
      The service provider login host.
    nullable: true
    minLength: 0
  login_lockout:
    type: string
    description: |
      Enables a temporary lockout for failed login attempts. Either `on` or `off`. The default value is `off`.
    default: off
    enum:
    - on
    - off
  login_suffix:
    type: string
    description: |
      The login suffix. For example, `.com`.
    minLength: 0
  logo:
    type: string
    description: |
      The name of the portal logo.
    nullable: true
    minLength: 0
  logo_file_name:
    type: string
    description: |
      The portal logo filename.
    nullable: true
    minLength: 0
  logout_url:
    type: string
    description: |
      The single logout URL for SSO.
    nullable: true
    minLength: 0
  max_login_failures:
    type: integer
    description: |
      The number of login failures allowed per user before temporary lock out. The default value is `5`.
    default: 5
    minimum: 1
  metadata:
    type: string
    description: |
      The metadata of the SAML type IDP.
    nullable: true
    minLength: 0
  mfa_settings:
    $ref: idp-mfa-settings.yaml
  modified_at:
    type: string
    description: |
      The ISO 8601 timestamp marking the last modification.
    nullable: true
  multilang_fields:
    type: string
    description: |
      Multi language field for SAML message configuration.
    nullable: true
    minLength: 0
  ocsp:
    type: string
    description: |
      Unicode string data.
    nullable: true
  oidcclients:
    type: string
    description: |
      The unique ID of the OIDC client.
  pop:
    type: string
    description: |
      The pop resource URI.
    minLength: 1
  popName:
    type: string
    description: |
      The target region to deploy the application. For example, `US-West` or `US-East`.
  resource:
    type: string
    description: |
      The IDP directory resource name.
    minLength: 1
  resource_uri:
    type: object
    description: |
      Specifies the location of various IDP resources.
    additionalProperties: false
    properties:
      directories:
        type: string
        description: |
          The directories resource URI.
        minLength: 1
      groups:
        type: string
        description: |
          The groups resource URI.
        minLength: 1
      href:
        type: string
        description: |
          The href resource URI.
        minLength: 1
      idp:
        type: string
        description: |
          The IDP resource URI.
      pop:
        type: string
        description: |
          The pop resource URI.
        minLength: 1
      services:
        type: string
        description: |
          The services resource URI.
        minLength: 1
      sites:
        type: string
        description: |
          The sites resource URI.
        minLength: 1
  saml_url:
    type: string
    description: |
      The URL of the service provider SAML interface.
    nullable: true
    minLength: 0
  settings:
    type: object
    description: |
      Login portal settings for an IDP configuration.
    additionalProperties: false
    properties:
      client_cert_auth:
        type: string
        description: |
          Enables client certificate authorization. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      client_cert_auth_onboard_criteria:
        type: string
        description: |
          The client onboarding criteria for the IDP.
      client_cert_auth_onboard_url:
        type: string
        description: |
          Enter the URL where the user is redirected if no certificate is provided.
      client_cert_auth_validation_method:
        type: string
        description: |
          The client certificate validation method. Either `none` or `ocsp`.
        nullable: true
        enum:
        - none
        - ocsp
      client_cert_auth_validation_responder:
        type: string
        description: |
          The URL of the OCSP validation responder. 
      client_cert_exp_warn_interval:
        type: integer
        description: |
          The warning interval for certificate expiration in days.
      client_cert_identity_username:
        type: string
        description: |
          Enables user login based on username instead of requiring cert validation. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      client_cert_renewal:
        type: string
        description: |
          Enables client certificate renewal. 
      client_cert_user_param:
        type: string
        description: |
          Relevant certificate parameters for client authentication.
      eaac_bin_base_url:
        type: string
        description: |
          The base URL to download the EAA client.
      enable_authorization:
        type: string
        description: |
          Enables authorization. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      enable_device_posture:
        type: string
        description: |
          Enables device posture. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      enable_favrt:
        type: string
        description: |
          Enables adding applications to a favorites list. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      enable_oidc_saml_bridging:
        type: string
        description: |
          Enables OIDC to SAML bridging. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      force_login:
        type: string
        description: |
          Forces user login. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      force_login_after:
        type: string
        description: |
          The timeout after which the IDP forces a re-login, in seconds.
      form_text:
        type: object
        description: |
          Form placeholder text settings.
        additionalProperties: false
        properties:
          user_placeholder:
            type: string
            description: |
              Placeholder text to display in the form.
      g2o_enabled:
        type: string
        description: |
          Enables G2O on an application configuration. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      g2o_key:
        type: string
        description: |
          The G2O key to share with your ION configuration.
        nullable: true
      g2o_nonce:
        type: string
        description: |
          The G2O nonce to share with your ION configuration.
        nullable: true
      group_attr_name:
        type: string
        description: |
          IDP group attribute names.
      idp_iwa_check_cert:
        type: string
        description: |
          Enables certificate checking for Integrated Windows Authentication. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      idp_iwa_check_os:
        type: string
        description: |
          A regex pattern applied to the user agent string to include user agents.
      idp_iwa_check_prem:
        type: string
        description: |
          Enables IWA authentication only when a device is on-premise. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      idp_iwa_check_ua:
        type: string
        description: |
          Enables the IdP to use IWA to check user access. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      idp_iwa_krb5_spn:
        type: string
        description: |
          The registered Service Principal Name for the service account bound to the IDP. The SPN is either the IDP hostname's A record or CNAME.
      idp_iwa_mode:
        type: string
        description: |
          Enables Integrated Windows Authentication. Either `always`, `if-capable`, or `off`.
        enum:
        - always
        - if-capable
        - off
      idp_iwa_onpremise_path:
        type: string
        description: |
          Whether the IDP uses a service principle name (SPN) used for Integrated Windows Authentication (IWA). Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      infra_prem_gateways:
        type: array
        description: |
          One or more IP subnet of the outbound gateways used by on-premise devices.
        items:
          type: object
          additionalProperties: false
          properties:
            value:
              type: string
              description: |
                The outbound gateways used by on-premise devices.
              nullable: true
      login_terms:
        type: string
        description: |
          The terms and conditions text to display in the login portal.
        nullable: true
      login_title:
        type: string
        description: |
          The text to display in the login portal tab.
        nullable: true
      persistent_cookie:
        type: string
        description: |
          Enables persistent cookies which allow the IdP to remember your credentials over multiple sessions.
      portal_background:
        type: string
        description: |
          Sets the login portal's background image file.
      portal_change_password_url:
        type: string
        description: |
          The URL for the password reset link.
      portal_logo_height:
        type: string
        description: |
          The portal logo's width in pixels.
      portal_logo_url:
        type: string
        description: |
          The URL for the portal logo image file.
      portal_logo_width:
        type: string
        description: |
          The portal logo's width in pixels.
      portal_new_user_signup_url:
        type: string
        description: |
          The URL for the new user signup link.
      portal_terms_box:
        type: string
        description: |
          Enables the login portal terms box. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      portal_theme:
        type: string
        description: |
          Sets the login portal theme name.
      portal_title_box:
        type: string
        description: |
          Enables the login portal's title box. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      single_logout_supported:
        type: string
        description: |
          Enables single logout. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      xframe_options:
        type: string
        description: |
          Enables xframe embedding. Either `true` or `false`.
        enum:
        - 'true'
        - 'false'
      xframe_urls:
        type: array
        description: |
          The URLs of the sites to embed in the portal using xframes.
        nullable: true
        items:
          type: object
          additionalProperties: false
          properties:
            url:
              type: string
              description: |
                The URLs using xframe.
              nullable: true
  status:
    type: integer
    description: |
      The IDP configuration status. Either `1` for Not Ready, `2` for Ready, `3` for Pending, `4` for Deployed, `5` for Failed, `6` for Cloud Deployed, or `7` for Connector Deployed.
    default: 1
    enum:
    - 1
    - 2
    - 3
    - 4
    - 5
    - 6
    - 7
  trust_expiry:
    type: integer
    description: |
      The number of seconds to expire the authentication request.
    minimum: 0
  uuid_url:
    type: string
    description: |
      The unique UUID URL of the IDP configuration.
    minLength: 1
